<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.project.watnet.board.BoardMapper">
 	
 	<insert id="insBoard">
 		INSERT INTO t_board
 		(category, title, shareId, sharePw, leaderpNum, startDt, endDt, price, ctnt)
 		VALUES
 		(#{category}, #{title}, #{shareId}, #{sharePw}, #{leaderpNum}, #{startDt}, #{endDt}, #{price}, #{ctnt})
 	</insert>
 	
 	<select id="selBoardList" resultType="BoardEntity">
 		SELECT * FROM t_board
 		WHERE category = #{category}
 		AND recruitNum <![CDATA[ < ]]> 4 
 		AND isDel = 0
 		ORDER BY startDt
 		LIMIT #{sIdx}, #{rowCnt}
 	</select>
 	
 	<select id="selMaxPageNum" resultType="int">
 		SELECT CEIL(COUNT(boardPk) / #{rowCnt})
		FROM t_board
		WHERE category = #{category}
		AND isDel = 0
 	</select>
 	
 </mapper>